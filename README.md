# 简化的巴菲特股息筛选系统

🚀 **基于AKShare的轻量级中国A股高股息筛选工具**

## 简介

这是一个简化版的巴菲特股息筛选系统，去除了复杂的企业架构，直接使用AKShare获取中国A股数据，专注于高股息价值投资策略。

### 主要特点

- ✅ **极简架构** - 单文件实现，无复杂依赖
- ✅ **实时数据** - 直接从AKShare获取最新市场数据
- ✅ **智能筛选** - 基于股息率、估值、技术位置等多维度筛选
- ✅ **综合评分** - 0-100分的投资价值评分系统
- ✅ **灵活使用** - 支持全市场筛选和指定股票分析

## 快速开始

### 1. 环境准备

```bash
# 使用uv安装依赖（推荐）
pip install uv
uv sync

# 或使用pip安装依赖
pip install akshare pandas requests
```

### 2. 基本使用

```bash
# 筛选所有高股息股票（默认股息率≥4%）
python main.py screen

# 筛选股息率≥6%的股票
python main.py screen --min-dividend 6.0

# 分析指定股票
python main.py target 600000 000001 601398

# 从文件读取股票代码进行分析
python main.py target --file sample_stocks.txt
```

### 3. 运行示例

```bash
# 完整示例：筛选高股息银行股
python main.py target SH600000 SH601398 SH601939 SH601288 SH600016

# 查看帮助
python main.py --help
```

## 核心功能

### 1. 股息筛选

- **最低股息率**：默认4%，可自定义
- **基本过滤**：排除ST股票、价格异常股票
- **流动性要求**：最低成交量要求

### 2. 估值分析

- **P/E比率**：动态市盈率分析
- **P/B比率**：市净率分析
- **52周位置**：当前价格相对于年度高低点的位置

### 3. 综合评分（100分制）

| 指标 | 权重 | 评分标准 |
|------|------|----------|
| 股息率 | 40% | ≥6%:40分, ≥4%:30分, ≥3%:20分 |
| 估值水平 | 30% | P/E<15:15分, P/B<1.5:15分 |
| 技术位置 | 20% | 52周低位:20分, 中位:15分 |
| 基本面 | 10% | EPS>0:5分, 安全边际:5分 |

## 输出示例

```
📊 股息率≥4.0%的股票: 15 只股票
====================================================================================================
排名   股票代码    股票名称      价格     股息率   P/E     P/B     评分   52周位置
----------------------------------------------------------------------------------------------------
1    SH600000   浦发银行      ¥9.45    5.82%   4.21    0.52    85.2   低位(15%)
2    SH601398   工商银行      ¥4.89    5.23%   3.89    0.48    82.1   低位(12%)
3    SH601939   建设银行      ¥6.23    4.89%   4.12    0.51    79.8   中位(45%)
====================================================================================================
💾 结果已保存到: reports/buffett_screening_dividend_4.0pct_20241116_143022.json
```

## 文件结构

```
buffett/
├── simple_main.py          # 主程序文件
├── sample_stocks.txt       # 示例股票代码文件
├── simple_pyproject.toml   # 简化的项目配置
├── SIMPLE_README.md        # 本文档
└── reports/                # 结果输出目录
    └── *.json             # 筛选结果文件
```

## 股票代码格式

支持以下格式的股票代码：

- `600000` - 上海证券交易所（默认）
- `SH600000` - 上海证券交易所（明确指定）
- `000001` - 深圳证券交易所（默认）
- `SZ000001` - 深圳证券交易所（明确指定）

## 数据源说明

- **市场概览数据**：新浪财经 - 实时行情数据
- **个股详细数据**：雪球网 - 基本面和估值数据
- **数据更新**：实时更新，建议交易时间使用

## 使用建议

### 1. 投资策略

- **价值投资**：关注低P/E、低P/B的高股息股票
- **择时策略**：优先考虑52周低点附近的股票
- **风险控制**：避免ST股票和基本面恶化的公司

### 2. 最佳实践

```bash
# 每日筛选：找到当日高股息机会
python main.py screen

# 重点监控：分析关注的银行股
python main.py target --file sample_stocks.txt

# 严格筛选：只考虑股息率≥6%的股票
python main.py screen --min-dividend 6.0
```

### 3. 结果分析

- 查看 `reports/` 目录下的JSON文件获取详细信息
- 关注评分80分以上的股票
- 结合公司基本面进行深入研究

## 注意事项

### ⚠️ 风险提示

1. **数据仅供参考**：本工具数据仅供参考，不构成投资建议
2. **市场风险**：股票投资存在市场风险，请谨慎投资
3. **数据延迟**：可能存在数据更新延迟，建议确认关键信息
4. **请求限制**：避免频繁请求，以免被数据源限制

### 📊 技术限制

- **请求频率**：避免连续快速请求，已内置延迟机制
- **网络依赖**：需要稳定的网络连接获取数据
- **时间限制**：数据获取可能需要几分钟时间

## 故障排除

### 常见问题

1. **网络连接问题**
   ```bash
   # 检查网络连接
   ping akshare.readthedocs.io
   ```

2. **依赖安装问题**
   ```bash
   # 重新安装依赖
   uv sync --python 3.13
   ```

3. **数据获取失败**
   ```bash
   # 等待一段时间后重试
   uv run python main.py screen
   ```

4. **股票分析失败**
   - 系统已内置错误处理，会自动跳过无法获取数据的股票
   - 常见失败原因：股票退市、数据源暂时无法访问、网络问题
   - 失败的股票会在输出中显示警告信息，不会影响其他股票的分析

5. **Python版本问题**
   ```bash
   # 确保使用Python 3.13
   uv python install 3.13
   uv sync --python 3.13
   ```

## 更新日志

### v1.0.0 (2024-11-16)
- ✨ 初始版本发布
- ✅ 基于AKShare的股息筛选功能
- ✅ 综合评分系统
- ✅ 支持全市场筛选和指定股票分析
- ✅ JSON结果输出

## 许可证

MIT License - 详见 LICENSE 文件

## 免责声明

本工具仅供学习和研究使用，不构成任何投资建议。投资有风险，入市需谨慎。使用者应当根据自己的风险承受能力和投资目标做出独立的投资决策。